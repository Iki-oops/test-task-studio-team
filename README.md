# Тестовое задание в студию разработки и автоматизации бизнес-процессов

Ссылка на тестовое задание: https://docs.google.com/document/d/1-zHYATooZ1H4jBRW1QZLCIle8M2izcPsQJnCuCn5Jtw/edit

<details>
<summary>
   <strong>
      Функциональность
   </strong>
</summary>

### Модель базы данных

**Profile** – Есть быть обычные и админ пользователи.

**Message** – Создаются при общении пользователя с ботом. Содержит команду и текст.

**Response** – Ответ бота на сообщение. Содержит текст и картинку.

**Command** – Команда для телеграм бота. Содержит команду, на которую будет реагировать бот и его ответ.

### Функциональные критерии

В веб-сервисе dashboard:
- На главной странице история сообщений всех пользователей, можно также фильтровать по пользователям
- На странице /dashboard находится bar chart(Гистограмма) - статистика 
количества запросов команд за последние 7 дней. И маленькие коробки, 
которые отображают количество новых пользователей и запросов за неделю, 
всех активных диалогов и самая популярная команда за все время.

В боте:
- Можно получить рандомную новость.
- Можно получить погоду в указанном городе в виде картинки и текста.
- Есть команды /help, /start.

</details>

## Стек
- Язык программирования: Python, JavaScript
- Фреймворк: Django, React
- ORM: Django ORM
- База данных: PostgreSQL

## Начало и установка
1. Склонируйте репозиторий
2. Создайте виртуальное окружение
3. Установите зависимости:
    ```sh
    pip install poetry==1.5.1
    poetry install
    cd dashboard
    npm install
    ```
4. Переименуйте .env.dist в .env и напишите свои настройки(Токены для API weather и news рабочие)
5. Создайте миграции и суперпользователя:
    ```sh
    python3 django_app.py makemigrations
    python3 django_app.py migrate
    python3 django_app.py createsuperuser
    ```
6. Запустите файл `bot.py`, django-проект, react-проект:
    ```sh
    python3 bot.py
    python3 django_app.py runserver 8000
    cd dashboard
    npm start
    ```
